import{_ as F}from"./formDrawer-615cee08.js";/* empty css             *//* empty css                    *//* empty css                *//* empty css                    *//* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                 *//* empty css                        *//* empty css                    *//* empty css               *//* empty css                   *//* empty css                  *//* empty css                        */import{g as R,E as N}from"./index-7aff1b23.js";import{u as S,g as H,c as q}from"./setting-24772b4c.js";import{_ as G}from"./_plugin-vue_export-helper-c27b6911.js";import{E as K}from"./index-d6a34864.js";import{a as M,E as O}from"./index-4bd039ef.js";import{r as b,ac as $,o as j,m as V,n as J,K as e,C as l,q as d,I as c,H as m,u as a,B as U,a7 as L,cG as Q,cH as W}from"./index-d45ed081.js";import{a as X,E as Y}from"./index-3276a6b0.js";import{E as Z}from"./msgTip-a00a6396.js";import{a as ee,E as le}from"./index-ae57328d.js";import{a as ae}from"./index-69026844.js";import"./index-1cb0abaf.js";import"./js.cookie-cf83ad76.js";import"./index-b06f2c24.js";import"./index-6998b886.js";import"./_initCloneObject-4b55852b.js";import"./index-184e15d9.js";import"./strings-5238cde9.js";const _=u=>(Q("data-v-3385d8da"),u=u(),W(),u),te={class:"pay-item"},oe={class:"text-info"},pe={class:"form-item"},de=_(()=>d("small",null,"订单下单未付款，n分钟后自动关闭，设置0不自动关闭",-1)),ne={class:"form-item"},ie=_(()=>d("small",null,"如果在期间未确认收货，系统自动完成收货，设置0不自动收货",-1)),se={class:"form-item"},me=_(()=>d("small",null,"订订单完成后 ，用户在n天内可以发起售后申请，设置0不允许申请售后",-1)),_e={class:"upload-btn"},ue=_(()=>d("small",null,"apiclient_cert.pem",-1)),re={class:"upload-btn"},ce=_(()=>d("small",null,"apiclient_key.pem",-1)),ye={__name:"buy",setup(u){const w=R(),P=b([{name:"支付宝支付",desc:"该系统支持即时到账接口",src:"public/alipay.png",key:"alipay"},{name:"微信支付",desc:"该系统支持微信网页支付和扫码支付",src:"public/wepay.png",key:"wxpay"}]),y=()=>{H().then(s=>{for(const p in s.data)t[p]=s.data[p]})};let t=$({close_order_minute:30,auto_received_day:7,after_sale_day:23,alipay:{app_id:"****已配置****",ali_public_key:"****已配置****",private_key:"****已配置****"},wxpay:{app_id:"****已配置****",miniapp_id:"****已配置****",secret:"****已配置****",appid:"****已配置****",mch_id:"****已配置****",key:"****已配置****",cert_client:"****已配置****.pem",cert_key:"****已配置****.pem"}});const k=b(null),h=b(""),C=s=>{h.value=s,k.value.open()},x=()=>{q(t).then(s=>{y()})},v=s=>{t.wxpay.cert_client=s.data};return j(()=>{y()}),(s,p)=>{const T=K,g=M,r=L,D=O,E=X,i=Z,n=ee,f=le,A=Y,B=N,I=ae,z=F;return V(),J("div",null,[e(B,null,{default:l(()=>[e(A,{onTabChange:y},{default:l(()=>[e(E,{label:"支付设置"},{default:l(()=>[e(D,{data:P.value,border:"",style:{width:"100%"}},{default:l(()=>[e(g,{label:"支付方式",width:"auto"},{default:l(({row:o})=>[d("div",te,[e(T,{fit:"cover",src:o.src},null,8,["src"]),d("div",oe,[d("span",null,c(o.name),1),d("small",null,c(o.desc),1)])])]),_:1}),e(g,{label:"操作",width:"180",align:"center"},{default:l(({row:o})=>[e(r,{link:"",size:"small",type:"primary",onClick:fe=>C(o.key)},{default:l(()=>[m("配置")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1}),e(E,{label:"购物设置",style:{padding:"20px 0 20px 30px"}},{default:l(()=>[e(f,{model:a(t),"status-icon":"","label-width":"auto"},{default:l(()=>[e(n,{label:"未支付订单"},{default:l(()=>[d("div",pe,[e(i,{modelValue:a(t).close_order_minute,"onUpdate:modelValue":p[0]||(p[0]=o=>a(t).close_order_minute=o),type:"number",class:"input-width",placeholder:"未支付订单"},{append:l(()=>[m("分钟后自动关闭")]),_:1},8,["modelValue"]),de])]),_:1}),e(n,{label:"已发货订单"},{default:l(()=>[d("div",ne,[e(i,{modelValue:a(t).auto_received_day,"onUpdate:modelValue":p[1]||(p[1]=o=>a(t).auto_received_day=o),type:"number",class:"input-width",placeholder:"已发货订单"},{append:l(()=>[m("天后自动确认收获")]),_:1},8,["modelValue"]),ie])]),_:1}),e(n,{label:"已完成订单"},{default:l(()=>[d("div",se,[e(i,{modelValue:a(t).after_sale_day,"onUpdate:modelValue":p[2]||(p[2]=o=>a(t).after_sale_day=o),type:"number",class:"input-width",placeholder:"已完成订单"},{append:l(()=>[m("天内允许申请售后")]),_:1},8,["modelValue"]),me])]),_:1}),e(n,{label:" "},{default:l(()=>[e(r,{size:"small",onClick:x,type:"primary"},{default:l(()=>[m("保存")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})]),_:1})]),_:1}),e(z,{ref_key:"paySettingRef",ref:k,title:"配置","confirm-text":"提交",destroyOnClose:"",onSubmit:x},{default:l(()=>[h.value=="alipay"?(V(),U(f,{key:0,ref:"formRef",model:a(t),"status-icon":"","label-width":"auto"},{default:l(()=>[e(n,{label:"app_id"},{default:l(()=>[e(i,{modelValue:a(t).alipay.app_id,"onUpdate:modelValue":p[3]||(p[3]=o=>a(t).alipay.app_id=o),placeholder:"app_id"},null,8,["modelValue"])]),_:1}),e(n,{label:"公钥"},{default:l(()=>[e(i,{type:"textarea",rows:"4",modelValue:a(t).alipay.ali_public_key,"onUpdate:modelValue":p[4]||(p[4]=o=>a(t).alipay.ali_public_key=o),placeholder:"公钥"},null,8,["modelValue"])]),_:1}),e(n,{label:"私钥"},{default:l(()=>[e(i,{type:"textarea",rows:"4",modelValue:a(t).alipay.private_key,"onUpdate:modelValue":p[5]||(p[5]=o=>a(t).alipay.private_key=o),placeholder:"私钥"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])):(V(),U(f,{key:1,ref:"formRef",model:a(t),"status-icon":"","label-width":"auto"},{default:l(()=>[e(n,{label:"公众号 APPID"},{default:l(()=>[e(i,{class:"input-width",modelValue:a(t).wxpay.app_id,"onUpdate:modelValue":p[6]||(p[6]=o=>a(t).wxpay.app_id=o),placeholder:"公众号 APPID"},null,8,["modelValue"])]),_:1}),e(n,{label:"小程序 APPID"},{default:l(()=>[e(i,{class:"input-width",modelValue:a(t).wxpay.miniapp_id,"onUpdate:modelValue":p[7]||(p[7]=o=>a(t).wxpay.miniapp_id=o),placeholder:"公众号 APPID"},null,8,["modelValue"])]),_:1}),e(n,{label:"小程序 secret"},{default:l(()=>[e(i,{class:"input-width",modelValue:a(t).wxpay.secret,"onUpdate:modelValue":p[8]||(p[8]=o=>a(t).wxpay.secret=o),placeholder:"小程序 secret"},null,8,["modelValue"])]),_:1}),e(n,{label:"app_id"},{default:l(()=>[e(i,{class:"input-width",modelValue:a(t).wxpay.appid,"onUpdate:modelValue":p[9]||(p[9]=o=>a(t).wxpay.appid=o),placeholder:"app_id"},null,8,["modelValue"])]),_:1}),e(n,{label:"商户号"},{default:l(()=>[e(i,{class:"input-width",modelValue:a(t).wxpay.mch_id,"onUpdate:modelValue":p[10]||(p[10]=o=>a(t).wxpay.mch_id=o),placeholder:"商户号"},null,8,["modelValue"])]),_:1}),e(n,{label:"API密钥"},{default:l(()=>[e(i,{modelValue:a(t).wxpay.key,"onUpdate:modelValue":p[11]||(p[11]=o=>a(t).wxpay.key=o),placeholder:"API密钥"},null,8,["modelValue"])]),_:1}),e(n,{label:"cert_client"},{default:l(()=>[d("div",_e,[e(I,{action:a(S),headers:{token:a(w)},limit:1,accept:".pem","on-success":v},{default:l(()=>[e(r,{type:"primary",size:"small"},{default:l(()=>[m("点击上传")]),_:1})]),_:1},8,["action","headers"]),d("span",null,c(a(t).wxpay.cert_client),1),ue])]),_:1}),e(n,{label:"cert_key"},{default:l(()=>[d("div",re,[e(I,{action:a(S),headers:{token:a(w)},limit:1,accept:".pem","on-success":v},{default:l(()=>[e(r,{type:"primary",size:"small"},{default:l(()=>[m("点击上传")]),_:1})]),_:1},8,["action","headers"]),d("span",null,c(a(t).wxpay.cert_key),1),ce])]),_:1})]),_:1},8,["model"]))]),_:1},512)])}}},Le=G(ye,[["__scopeId","data-v-3385d8da"]]);export{Le as default};
