import{_ as Q,f as j,t as P,r as E,$ as ee,a0 as O,o as ge,u as Y,a9 as $e,b as le,d as H,h as g,bS as ln,aB as se,l as ce,av as A,m as z,B as ne,C as $,K as q,a6 as sn,ax as rn,aH as Ke,V as ze,Z as ie,a7 as Ge,E as he,al as Ye,g as Z,j as an,aj as un,a2 as de,n as oe,U as cn,S as ae,v as te,G as Te,q as ve,F as dn,J as Ie,x as pn,y as je,a3 as pe,bo as me,bq as Ce,bn as mn,bT as fn,ab as vn,ac as Se,an as B,L as re,D as bn,aG as Re,w as gn,bU as hn,M as In,H as wn,I as yn}from"./index-d45ed081.js";import{d as x,b as Cn,u as Be,E as En,a as ke,O as Mn,w as Ae}from"./index-6998b886.js";import{h as I,c as _n,f as Tn,S as $n,_ as fe,T as Sn,t as be,v as kn,m as On,l as Nn,i as Fn}from"./msgTip-a00a6396.js";import{c as Ue}from"./refs-726771dd.js";import{_ as Pn}from"./index-a9d2ad06.js";const Rn=j({inheritAttrs:!1});function Bn(e,n,o,t,r,v){return P(e.$slots,"default")}var An=Q(Rn,[["render",Bn],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection.vue"]]);const Dn=j({name:"ElCollectionItem",inheritAttrs:!1});function Ln(e,n,o,t,r,v){return P(e.$slots,"default")}var Kn=Q(Dn,[["render",Ln],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection-item.vue"]]);const Ve="data-el-collection-item",He=e=>{const n=`El${e}Collection`,o=`${n}Item`,t=Symbol(n),r=Symbol(o),v={...An,name:n,setup(){const a=E(null),l=new Map;ee(t,{itemMap:l,getItems:()=>{const m=Y(a);if(!m)return[];const f=Array.from(m.querySelectorAll(`[${Ve}]`));return[...l.values()].sort((u,y)=>f.indexOf(u.ref)-f.indexOf(y.ref))},collectionRef:a})}},s={...Kn,name:o,setup(a,{attrs:l}){const p=E(null),m=O(t,void 0);ee(r,{collectionItemRef:p}),ge(()=>{const f=Y(p);f&&m.itemMap.set(f,{ref:f,...l})}),$e(()=>{const f=Y(p);m.itemMap.delete(f)})}};return{COLLECTION_INJECTION_KEY:t,COLLECTION_ITEM_INJECTION_KEY:r,ElCollection:v,ElCollectionItem:s}},zn=le({style:{type:H([String,Array,Object])},currentTabId:{type:H(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:H(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:Gn,ElCollectionItem:Yn,COLLECTION_INJECTION_KEY:Oe,COLLECTION_ITEM_INJECTION_KEY:jn}=He("RovingFocusGroup"),Ne=Symbol("elRovingFocusGroup"),We=Symbol("elRovingFocusGroupItem"),Un={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},Vn=(e,n)=>{if(n!=="rtl")return e;switch(e){case I.right:return I.left;case I.left:return I.right;default:return e}},Hn=(e,n,o)=>{const t=Vn(e.key,o);if(!(n==="vertical"&&[I.left,I.right].includes(t))&&!(n==="horizontal"&&[I.up,I.down].includes(t)))return Un[t]},Wn=(e,n)=>e.map((o,t)=>e[(t+n)%e.length]),Fe=e=>{const{activeElement:n}=document;for(const o of e)if(o===n||(o.focus(),n!==document.activeElement))return},De="currentTabIdChange",Le="rovingFocusGroup.entryFocus",Jn={bubbles:!1,cancelable:!0},qn=j({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:zn,emits:[De,"entryFocus"],setup(e,{emit:n}){var o;const t=E((o=e.currentTabId||e.defaultCurrentTabId)!=null?o:null),r=E(!1),v=E(!1),s=E(null),{getItems:a}=O(Oe,void 0),l=g(()=>[{outline:"none"},e.style]),p=b=>{n(De,b)},m=()=>{r.value=!0},f=x(b=>{var C;(C=e.onMousedown)==null||C.call(e,b)},()=>{v.value=!0}),w=x(b=>{var C;(C=e.onFocus)==null||C.call(e,b)},b=>{const C=!Y(v),{target:D,currentTarget:S}=b;if(D===S&&C&&!Y(r)){const U=new Event(Le,Jn);if(S==null||S.dispatchEvent(U),!U.defaultPrevented){const T=a().filter(k=>k.focusable),G=T.find(k=>k.active),_=T.find(k=>k.id===Y(t)),V=[G,_,...T].filter(Boolean).map(k=>k.ref);Fe(V)}}v.value=!1}),u=x(b=>{var C;(C=e.onBlur)==null||C.call(e,b)},()=>{r.value=!1}),y=(...b)=>{n("entryFocus",...b)};ee(Ne,{currentTabbedId:ln(t),loop:se(e,"loop"),tabIndex:g(()=>Y(r)?-1:0),rovingFocusGroupRef:s,rovingFocusGroupRootStyle:l,orientation:se(e,"orientation"),dir:se(e,"dir"),onItemFocus:p,onItemShiftTab:m,onBlur:u,onFocus:w,onMousedown:f}),ce(()=>e.currentTabId,b=>{t.value=b??null}),_n(s,Le,y)}});function Zn(e,n,o,t,r,v){return P(e.$slots,"default")}var Qn=Q(qn,[["render",Zn],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group-impl.vue"]]);const Xn=j({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:Gn,ElRovingFocusGroupImpl:Qn}});function xn(e,n,o,t,r,v){const s=A("el-roving-focus-group-impl"),a=A("el-focus-group-collection");return z(),ne(a,null,{default:$(()=>[q(s,sn(rn(e.$attrs)),{default:$(()=>[P(e.$slots,"default")]),_:3},16)]),_:3})}var eo=Q(Xn,[["render",xn],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group.vue"]]);const no=j({components:{ElRovingFocusCollectionItem:Yn},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(e,{emit:n}){const{currentTabbedId:o,loop:t,onItemFocus:r,onItemShiftTab:v}=O(Ne,void 0),{getItems:s}=O(Oe,void 0),a=Ke(),l=E(null),p=x(u=>{n("mousedown",u)},u=>{e.focusable?r(Y(a)):u.preventDefault()}),m=x(u=>{n("focus",u)},()=>{r(Y(a))}),f=x(u=>{n("keydown",u)},u=>{const{key:y,shiftKey:b,target:C,currentTarget:D}=u;if(y===I.tab&&b){v();return}if(C!==D)return;const S=Hn(u);if(S){u.preventDefault();let T=s().filter(G=>G.focusable).map(G=>G.ref);switch(S){case"last":{T.reverse();break}case"prev":case"next":{S==="prev"&&T.reverse();const G=T.indexOf(D);T=t.value?Wn(T,G+1):T.slice(G+1);break}}ze(()=>{Fe(T)})}}),w=g(()=>o.value===Y(a));return ee(We,{rovingFocusGroupItemRef:l,tabIndex:g(()=>Y(w)?0:-1),handleMousedown:p,handleFocus:m,handleKeydown:f}),{id:a,handleKeydown:f,handleFocus:m,handleMousedown:p}}});function oo(e,n,o,t,r,v){const s=A("el-roving-focus-collection-item");return z(),ne(s,{id:e.id,focusable:e.focusable,active:e.active},{default:$(()=>[P(e.$slots,"default")]),_:3},8,["id","focusable","active"])}var to=Q(no,[["render",oo],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-item.vue"]]);const lo=le({trigger:Cn.trigger,effect:{...Be.effect,default:"light"},type:{type:H(String)},placement:{type:H(String),default:"bottom"},popperOptions:{type:H(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:H([Number,String]),default:0},maxHeight:{type:H([Number,String]),default:""},popperClass:{type:String,default:""},disabled:{type:Boolean,default:!1},role:{type:String,default:"menu"},buttonProps:{type:H(Object)},teleported:Be.teleported}),Je=le({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:ie}}),so=le({onKeydown:{type:H(Function)}}),ro=[I.down,I.pageDown,I.home],qe=[I.up,I.pageUp,I.end],ao=[...ro,...qe],{ElCollection:uo,ElCollectionItem:io,COLLECTION_INJECTION_KEY:co,COLLECTION_ITEM_INJECTION_KEY:po}=He("Dropdown"),we=Symbol("elDropdown"),{ButtonGroup:mo}=Ge,fo=j({name:"ElDropdown",components:{ElButton:Ge,ElButtonGroup:mo,ElScrollbar:En,ElDropdownCollection:uo,ElTooltip:ke,ElRovingFocusGroup:eo,ElOnlyChild:Mn,ElIcon:he,ArrowDown:Ye},props:lo,emits:["visible-change","click","command"],setup(e,{emit:n}){const o=de(),t=Z("dropdown"),{t:r}=Tn(),v=E(),s=E(),a=E(null),l=E(null),p=E(null),m=E(null),f=E(!1),w=[I.enter,I.space,I.down],u=g(()=>({maxHeight:an(e.maxHeight)})),y=g(()=>[t.m(T.value)]),b=Ke().value,C=g(()=>e.id||b);function D(){S()}function S(){var h;(h=a.value)==null||h.onClose()}function U(){var h;(h=a.value)==null||h.onOpen()}const T=un();function G(...h){n("command",...h)}function _(){}function L(){const h=Y(l);h==null||h.focus(),m.value=null}function V(h){m.value=h}function k(h){f.value||(h.preventDefault(),h.stopImmediatePropagation())}function c(){n("visible-change",!0)}function i(h){(h==null?void 0:h.type)==="keydown"&&l.value.focus()}function d(){n("visible-change",!1)}return ee(we,{contentRef:l,role:g(()=>e.role),triggerId:C,isUsingKeyboard:f,onItemEnter:_,onItemLeave:L}),ee("elDropdown",{instance:o,dropdownSize:T,handleClick:D,commandHandler:G,trigger:se(e,"trigger"),hideOnClick:se(e,"hideOnClick")}),{t:r,ns:t,scrollbar:p,wrapStyle:u,dropdownTriggerKls:y,dropdownSize:T,triggerId:C,triggerKeys:w,currentTabId:m,handleCurrentTabIdChange:V,handlerMainButtonClick:h=>{n("click",h)},handleEntryFocus:k,handleClose:S,handleOpen:U,handleBeforeShowTooltip:c,handleShowTooltip:i,handleBeforeHideTooltip:d,onFocusAfterTrapped:h=>{var W,J;h.preventDefault(),(J=(W=l.value)==null?void 0:W.focus)==null||J.call(W,{preventScroll:!0})},popperRef:a,contentRef:l,triggeringElementRef:v,referenceElementRef:s}}});function vo(e,n,o,t,r,v){var s;const a=A("el-dropdown-collection"),l=A("el-roving-focus-group"),p=A("el-scrollbar"),m=A("el-only-child"),f=A("el-tooltip"),w=A("el-button"),u=A("arrow-down"),y=A("el-icon"),b=A("el-button-group");return z(),oe("div",{class:te([e.ns.b(),e.ns.is("disabled",e.disabled)])},[q(f,{ref:"popperRef",role:e.role,effect:e.effect,"fallback-placements":["bottom","top"],"popper-options":e.popperOptions,"gpu-acceleration":!1,"hide-after":e.trigger==="hover"?e.hideTimeout:0,"manual-mode":!0,placement:e.placement,"popper-class":[e.ns.e("popper"),e.popperClass],"reference-element":(s=e.referenceElementRef)==null?void 0:s.$el,trigger:e.trigger,"trigger-keys":e.triggerKeys,"trigger-target-el":e.contentRef,"show-after":e.trigger==="hover"?e.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":e.triggeringElementRef,"virtual-triggering":e.splitButton,disabled:e.disabled,transition:`${e.ns.namespace.value}-zoom-in-top`,teleported:e.teleported,pure:"",persistent:"",onBeforeShow:e.handleBeforeShowTooltip,onShow:e.handleShowTooltip,onBeforeHide:e.handleBeforeHideTooltip},cn({content:$(()=>[q(p,{ref:"scrollbar","wrap-style":e.wrapStyle,tag:"div","view-class":e.ns.e("list")},{default:$(()=>[q(l,{loop:e.loop,"current-tab-id":e.currentTabId,orientation:"horizontal",onCurrentTabIdChange:e.handleCurrentTabIdChange,onEntryFocus:e.handleEntryFocus},{default:$(()=>[q(a,null,{default:$(()=>[P(e.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[e.splitButton?void 0:{name:"default",fn:$(()=>[q(m,{id:e.triggerId,role:"button",tabindex:e.tabindex},{default:$(()=>[P(e.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),e.splitButton?(z(),ne(b,{key:0},{default:$(()=>[q(w,ae({ref:"referenceElementRef"},e.buttonProps,{size:e.dropdownSize,type:e.type,disabled:e.disabled,tabindex:e.tabindex,onClick:e.handlerMainButtonClick}),{default:$(()=>[P(e.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),q(w,ae({id:e.triggerId,ref:"triggeringElementRef"},e.buttonProps,{role:"button",size:e.dropdownSize,type:e.type,class:e.ns.e("caret-button"),disabled:e.disabled,tabindex:e.tabindex,"aria-label":e.t("el.dropdown.toggleDropdown")}),{default:$(()=>[q(y,{class:te(e.ns.e("icon"))},{default:$(()=>[q(u)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):Te("v-if",!0)],2)}var bo=Q(fo,[["render",vo],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown.vue"]]);const go=j({name:"DropdownItemImpl",components:{ElIcon:he},props:Je,emits:["pointermove","pointerleave","click","clickimpl"],setup(e,{emit:n}){const o=Z("dropdown"),{role:t}=O(we,void 0),{collectionItemRef:r}=O(po,void 0),{collectionItemRef:v}=O(jn,void 0),{rovingFocusGroupItemRef:s,tabIndex:a,handleFocus:l,handleKeydown:p,handleMousedown:m}=O(We,void 0),f=Ue(r,v,s),w=g(()=>t.value==="menu"?"menuitem":t.value==="navigation"?"link":"button"),u=x(y=>{const{code:b}=y;if(b===I.enter||b===I.space)return y.preventDefault(),y.stopImmediatePropagation(),n("clickimpl",y),!0},p);return{ns:o,itemRef:f,dataset:{[Ve]:""},role:w,tabIndex:a,handleFocus:l,handleKeydown:u,handleMousedown:m}}}),ho=["aria-disabled","tabindex","role"];function Io(e,n,o,t,r,v){const s=A("el-icon");return z(),oe(Ie,null,[e.divided?(z(),oe("li",ae({key:0,role:"separator",class:e.ns.bem("menu","item","divided")},e.$attrs),null,16)):Te("v-if",!0),ve("li",ae({ref:e.itemRef},{...e.dataset,...e.$attrs},{"aria-disabled":e.disabled,class:[e.ns.be("menu","item"),e.ns.is("disabled",e.disabled)],tabindex:e.tabIndex,role:e.role,onClick:n[0]||(n[0]=a=>e.$emit("clickimpl",a)),onFocus:n[1]||(n[1]=(...a)=>e.handleFocus&&e.handleFocus(...a)),onKeydown:n[2]||(n[2]=(...a)=>e.handleKeydown&&e.handleKeydown(...a)),onMousedown:n[3]||(n[3]=(...a)=>e.handleMousedown&&e.handleMousedown(...a)),onPointermove:n[4]||(n[4]=a=>e.$emit("pointermove",a)),onPointerleave:n[5]||(n[5]=a=>e.$emit("pointerleave",a))}),[e.icon?(z(),ne(s,{key:0},{default:$(()=>[(z(),ne(dn(e.icon)))]),_:1})):Te("v-if",!0),P(e.$slots,"default")],16,ho)],64)}var wo=Q(go,[["render",Io],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item-impl.vue"]]);const Ze=()=>{const e=O("elDropdown",{}),n=g(()=>e==null?void 0:e.dropdownSize);return{elDropdown:e,_elDropdownSize:n}},yo=j({name:"ElDropdownItem",components:{ElDropdownCollectionItem:io,ElRovingFocusItem:to,ElDropdownItemImpl:wo},inheritAttrs:!1,props:Je,emits:["pointermove","pointerleave","click"],setup(e,{emit:n,attrs:o}){const{elDropdown:t}=Ze(),r=de(),v=E(null),s=g(()=>{var u,y;return(y=(u=Y(v))==null?void 0:u.textContent)!=null?y:""}),{onItemEnter:a,onItemLeave:l}=O(we,void 0),p=x(u=>(n("pointermove",u),u.defaultPrevented),Ae(u=>{var y;e.disabled?l(u):(a(u),u.defaultPrevented||(y=u.currentTarget)==null||y.focus())})),m=x(u=>(n("pointerleave",u),u.defaultPrevented),Ae(u=>{l(u)})),f=x(u=>{if(!e.disabled)return n("click",u),u.type!=="keydown"&&u.defaultPrevented},u=>{var y,b,C;if(e.disabled){u.stopImmediatePropagation();return}(y=t==null?void 0:t.hideOnClick)!=null&&y.value&&((b=t.handleClick)==null||b.call(t)),(C=t.commandHandler)==null||C.call(t,e.command,r,u)}),w=g(()=>({...e,...o}));return{handleClick:f,handlePointerMove:p,handlePointerLeave:m,textContent:s,propsAndAttrs:w}}});function Co(e,n,o,t,r,v){var s;const a=A("el-dropdown-item-impl"),l=A("el-roving-focus-item"),p=A("el-dropdown-collection-item");return z(),ne(p,{disabled:e.disabled,"text-value":(s=e.textValue)!=null?s:e.textContent},{default:$(()=>[q(l,{focusable:!e.disabled},{default:$(()=>[q(a,ae(e.propsAndAttrs,{onPointerleave:e.handlePointerLeave,onPointermove:e.handlePointerMove,onClickimpl:e.handleClick}),{default:$(()=>[P(e.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var Qe=Q(yo,[["render",Co],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item.vue"]]);const Eo=j({name:"ElDropdownMenu",props:so,setup(e){const n=Z("dropdown"),{_elDropdownSize:o}=Ze(),t=o.value,{focusTrapRef:r,onKeydown:v}=O($n,void 0),{contentRef:s,role:a,triggerId:l}=O(we,void 0),{collectionRef:p,getItems:m}=O(co,void 0),{rovingFocusGroupRef:f,rovingFocusGroupRootStyle:w,tabIndex:u,onBlur:y,onFocus:b,onMousedown:C}=O(Ne,void 0),{collectionRef:D}=O(Oe,void 0),S=g(()=>[n.b("menu"),n.bm("menu",t==null?void 0:t.value)]),U=Ue(s,p,r,f,D),T=x(_=>{var L;(L=e.onKeydown)==null||L.call(e,_)},_=>{const{currentTarget:L,code:V,target:k}=_;if(L.contains(k),I.tab===V&&_.stopImmediatePropagation(),_.preventDefault(),k!==Y(s)||!ao.includes(V))return;const i=m().filter(d=>!d.disabled).map(d=>d.ref);qe.includes(V)&&i.reverse(),Fe(i)});return{size:t,rovingFocusGroupRootStyle:w,tabIndex:u,dropdownKls:S,role:a,triggerId:l,dropdownListWrapperRef:U,handleKeydown:_=>{T(_),v(_)},onBlur:y,onFocus:b,onMousedown:C}}}),Mo=["role","aria-labelledby"];function _o(e,n,o,t,r,v){return z(),oe("ul",{ref:e.dropdownListWrapperRef,class:te(e.dropdownKls),style:pn(e.rovingFocusGroupRootStyle),tabindex:-1,role:e.role,"aria-labelledby":e.triggerId,onBlur:n[0]||(n[0]=(...s)=>e.onBlur&&e.onBlur(...s)),onFocus:n[1]||(n[1]=(...s)=>e.onFocus&&e.onFocus(...s)),onKeydown:n[2]||(n[2]=(...s)=>e.handleKeydown&&e.handleKeydown(...s)),onMousedown:n[3]||(n[3]=(...s)=>e.onMousedown&&e.onMousedown(...s))},[P(e.$slots,"default")],46,Mo)}var Xe=Q(Eo,[["render",_o],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-menu.vue"]]);const Zo=je(bo,{DropdownItem:Qe,DropdownMenu:Xe}),Qo=pe(Qe),Xo=pe(Xe);let To=class{constructor(n,o){this.parent=n,this.domNode=o,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(n){n===this.subMenuItems.length?n=0:n<0&&(n=this.subMenuItems.length-1),this.subMenuItems[n].focus(),this.subIndex=n}addListeners(){const n=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,o=>{o.addEventListener("keydown",t=>{let r=!1;switch(t.code){case I.down:{this.gotoSubIndex(this.subIndex+1),r=!0;break}case I.up:{this.gotoSubIndex(this.subIndex-1),r=!0;break}case I.tab:{fe(n,"mouseleave");break}case I.enter:case I.space:{r=!0,t.currentTarget.click();break}}return r&&(t.preventDefault(),t.stopPropagation()),!1})})}},$o=class{constructor(n,o){this.domNode=n,this.submenu=null,this.submenu=null,this.init(o)}init(n){this.domNode.setAttribute("tabindex","0");const o=this.domNode.querySelector(`.${n}-menu`);o&&(this.submenu=new To(this,o)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",n=>{let o=!1;switch(n.code){case I.down:{fe(n.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),o=!0;break}case I.up:{fe(n.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),o=!0;break}case I.tab:{fe(n.currentTarget,"mouseleave");break}case I.enter:case I.space:{o=!0,n.currentTarget.click();break}}o&&n.preventDefault()})}},So=class{constructor(n,o){this.domNode=n,this.init(o)}init(n){const o=this.domNode.childNodes;Array.from(o).forEach(t=>{t.nodeType===1&&new $o(t,n)})}};const ko=j({name:"ElMenuCollapseTransition",setup(){const e=Z("menu");return{listeners:{onBeforeEnter:o=>o.style.opacity="0.2",onEnter(o,t){me(o,`${e.namespace.value}-opacity-transition`),o.style.opacity="1",t()},onAfterEnter(o){Ce(o,`${e.namespace.value}-opacity-transition`),o.style.opacity=""},onBeforeLeave(o){o.dataset||(o.dataset={}),mn(o,e.m("collapse"))?(Ce(o,e.m("collapse")),o.dataset.oldOverflow=o.style.overflow,o.dataset.scrollWidth=o.clientWidth.toString(),me(o,e.m("collapse"))):(me(o,e.m("collapse")),o.dataset.oldOverflow=o.style.overflow,o.dataset.scrollWidth=o.clientWidth.toString(),Ce(o,e.m("collapse"))),o.style.width=`${o.scrollWidth}px`,o.style.overflow="hidden"},onLeave(o){me(o,"horizontal-collapse-transition"),o.style.width=`${o.dataset.scrollWidth}px`}}}}});function Oo(e,n,o,t,r,v){return z(),ne(Sn,ae({mode:"out-in"},e.listeners),{default:$(()=>[P(e.$slots,"default")]),_:3},16)}var No=Q(ko,[["render",Oo],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-collapse-transition.vue"]]);function xe(e,n){const o=g(()=>{let r=e.parent;const v=[n.value];for(;r.type.name!=="ElMenu";)r.props.index&&v.unshift(r.props.index),r=r.parent;return v});return{parentMenu:g(()=>{let r=e.parent;for(;r&&!["ElMenu","ElSubMenu"].includes(r.type.name);)r=r.parent;return r}),indexPath:o}}function Fo(e){return g(()=>{const o=e.backgroundColor;return o?new fn(o).shade(20).toString():""})}const en=(e,n)=>{const o=Z("menu");return g(()=>o.cssVarBlock({"text-color":e.textColor||"","hover-text-color":e.textColor||"","bg-color":e.backgroundColor||"","hover-bg-color":Fo(e).value||"","active-color":e.activeTextColor||"",level:`${n}`}))},Po=le({index:{type:String,required:!0},showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300},popperClass:String,disabled:Boolean,popperAppendToBody:{type:Boolean,default:void 0},popperOffset:{type:Number,default:6},expandCloseIcon:{type:ie},expandOpenIcon:{type:ie},collapseCloseIcon:{type:ie},collapseOpenIcon:{type:ie}}),Ee="ElSubMenu";var Pe=j({name:Ee,props:Po,setup(e,{slots:n,expose:o}){const t=de(),{indexPath:r,parentMenu:v}=xe(t,g(()=>e.index)),s=Z("menu"),a=Z("sub-menu"),l=O("rootMenu");l||be(Ee,"can not inject root menu");const p=O(`subMenu:${v.value.uid}`);p||be(Ee,"can not inject sub menu");const m=E({}),f=E({});let w;const u=E(!1),y=E(),b=E(null),C=g(()=>i.value==="horizontal"&&S.value?"bottom-start":"right-start"),D=g(()=>i.value==="horizontal"&&S.value||i.value==="vertical"&&!l.props.collapse?e.expandCloseIcon&&e.expandOpenIcon?_.value?e.expandOpenIcon:e.expandCloseIcon:Ye:e.collapseCloseIcon&&e.collapseOpenIcon?_.value?e.collapseOpenIcon:e.collapseCloseIcon:vn),S=g(()=>p.level===0),U=g(()=>e.popperAppendToBody===void 0?S.value:Boolean(e.popperAppendToBody)),T=g(()=>l.props.collapse?`${s.namespace.value}-zoom-in-left`:`${s.namespace.value}-zoom-in-top`),G=g(()=>i.value==="horizontal"&&S.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","left-start","bottom-start","bottom-end","top-start","top-end"]),_=g(()=>l.openedMenus.includes(e.index)),L=g(()=>{let M=!1;return Object.values(m.value).forEach(F=>{F.active&&(M=!0)}),Object.values(f.value).forEach(F=>{F.active&&(M=!0)}),M}),V=g(()=>l.props.backgroundColor||""),k=g(()=>l.props.activeTextColor||""),c=g(()=>l.props.textColor||""),i=g(()=>l.props.mode),d=Se({index:e.index,indexPath:r,active:L}),R=g(()=>i.value!=="horizontal"?{color:c.value}:{borderBottomColor:L.value?l.props.activeTextColor?k.value:"":"transparent",color:L.value?k.value:c.value}),N=()=>{var M,F,K;return(K=(F=(M=b.value)==null?void 0:M.popperRef)==null?void 0:F.popperInstanceRef)==null?void 0:K.destroy()},h=M=>{M||N()},W=()=>{l.props.menuTrigger==="hover"&&l.props.mode==="horizontal"||l.props.collapse&&l.props.mode==="vertical"||e.disabled||l.handleSubMenuClick({index:e.index,indexPath:r.value,active:L.value})},J=(M,F=e.showTimeout)=>{var K;M.type!=="focus"&&(l.props.menuTrigger==="click"&&l.props.mode==="horizontal"||!l.props.collapse&&l.props.mode==="vertical"||e.disabled||(p.mouseInChild.value=!0,w==null||w(),{stop:w}=Re(()=>{l.openMenu(e.index,r.value)},F),U.value&&((K=v.value.vnode.el)==null||K.dispatchEvent(new MouseEvent("mouseenter")))))},X=(M=!1)=>{var F,K;l.props.menuTrigger==="click"&&l.props.mode==="horizontal"||!l.props.collapse&&l.props.mode==="vertical"||(w==null||w(),p.mouseInChild.value=!1,{stop:w}=Re(()=>!u.value&&l.closeMenu(e.index,r.value),e.hideTimeout),U.value&&M&&((F=t.parent)==null?void 0:F.type.name)==="ElSubMenu"&&((K=p.handleMouseleave)==null||K.call(p,!0)))};ce(()=>l.props.collapse,M=>h(Boolean(M)));{const M=K=>{f.value[K.index]=K},F=K=>{delete f.value[K.index]};ee(`subMenu:${t.uid}`,{addSubMenu:M,removeSubMenu:F,handleMouseleave:X,mouseInChild:u,level:p.level+1})}return o({opened:_}),ge(()=>{l.addSubMenu(d),p.addSubMenu(d)}),$e(()=>{p.removeSubMenu(d),l.removeSubMenu(d)}),()=>{var M;const F=[(M=n.title)==null?void 0:M.call(n),B(he,{class:a.e("icon-arrow"),style:{transform:_.value?e.expandCloseIcon&&e.expandOpenIcon||e.collapseCloseIcon&&e.collapseOpenIcon&&l.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>re(D.value)?B(t.appContext.components[D.value]):B(D.value)})],K=en(l.props,p.level+1),tn=l.isMenuPopup?B(ke,{ref:b,visible:_.value,effect:"light",pure:!0,offset:e.popperOffset,showArrow:!1,persistent:!0,popperClass:e.popperClass,placement:C.value,teleported:U.value,fallbackPlacements:G.value,transition:T.value,gpuAcceleration:!1},{content:()=>{var ue;return B("div",{class:[s.m(i.value),s.m("popup-container"),e.popperClass],onMouseenter:ye=>J(ye,100),onMouseleave:()=>X(!0),onFocus:ye=>J(ye,100)},[B("ul",{class:[s.b(),s.m("popup"),s.m(`popup-${C.value}`)],style:K.value},[(ue=n.default)==null?void 0:ue.call(n)])])},default:()=>B("div",{class:a.e("title"),style:[R.value,{backgroundColor:V.value}],onClick:W},F)}):B(Ie,{},[B("div",{class:a.e("title"),style:[R.value,{backgroundColor:V.value}],ref:y,onClick:W},F),B(Pn,{},{default:()=>{var ue;return bn(B("ul",{role:"menu",class:[s.b(),s.m("inline")],style:K.value},[(ue=n.default)==null?void 0:ue.call(n)]),[[kn,_.value]])}})]);return B("li",{class:[a.b(),a.is("active",L.value),a.is("opened",_.value),a.is("disabled",e.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:_.value,onMouseenter:J,onMouseleave:()=>X(!0),onFocus:J},[tn])}}});const Ro=le({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:H(Array),default:()=>On([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperEffect:{type:String,values:["dark","light"],default:"dark"}}),Me=e=>Array.isArray(e)&&e.every(n=>re(n)),Bo={close:(e,n)=>re(e)&&Me(n),open:(e,n)=>re(e)&&Me(n),select:(e,n,o,t)=>re(e)&&Me(n)&&In(o)&&(t===void 0||t instanceof Promise)};var Ao=j({name:"ElMenu",props:Ro,emits:Bo,setup(e,{emit:n,slots:o,expose:t}){const r=de(),v=r.appContext.config.globalProperties.$router,s=E(),a=Z("menu"),l=Z("sub-menu"),p=E(-1),m=E(e.defaultOpeneds&&!e.collapse?e.defaultOpeneds.slice(0):[]),f=E(e.defaultActive),w=E({}),u=E({}),y=g(()=>e.mode==="horizontal"||e.mode==="vertical"&&e.collapse),b=()=>{const c=f.value&&w.value[f.value];if(!c||e.mode==="horizontal"||e.collapse)return;c.indexPath.forEach(d=>{const R=u.value[d];R&&C(d,R.indexPath)})},C=(c,i)=>{m.value.includes(c)||(e.uniqueOpened&&(m.value=m.value.filter(d=>i.includes(d))),m.value.push(c),n("open",c,i))},D=(c,i)=>{const d=m.value.indexOf(c);d!==-1&&m.value.splice(d,1),n("close",c,i)},S=({index:c,indexPath:i})=>{m.value.includes(c)?D(c,i):C(c,i)},U=c=>{(e.mode==="horizontal"||e.collapse)&&(m.value=[]);const{index:i,indexPath:d}=c;if(!(i===void 0||d===void 0))if(e.router&&v){const R=c.route||i,N=v.push(R).then(h=>(h||(f.value=i),h));n("select",i,d,{index:i,indexPath:d,route:R},N)}else f.value=i,n("select",i,d,{index:i,indexPath:d})},T=c=>{const i=w.value,d=i[c]||f.value&&i[f.value]||i[e.defaultActive];d?f.value=d.index:f.value=c},G=()=>{var c,i;if(!s.value)return-1;const d=Array.from((i=(c=s.value)==null?void 0:c.childNodes)!=null?i:[]).filter(M=>M.nodeName!=="#text"||M.nodeValue),R=64,N=Number.parseInt(getComputedStyle(s.value).paddingLeft,10),h=Number.parseInt(getComputedStyle(s.value).paddingRight,10),W=s.value.clientWidth-N-h;let J=0,X=0;return d.forEach((M,F)=>{J+=M.offsetWidth||0,J<=W-R&&(X=F+1)}),X===d.length?-1:X},_=(c,i=33.34)=>{let d;return()=>{d&&clearTimeout(d),d=setTimeout(()=>{c()},i)}};let L=!0;const V=()=>{const c=()=>{p.value=-1,ze(()=>{p.value=G()})};L?c():_(c)(),L=!1};ce(()=>e.defaultActive,c=>{w.value[c]||(f.value=""),T(c)}),ce(()=>e.collapse,c=>{c&&(m.value=[])}),ce(w.value,b);let k;gn(()=>{e.mode==="horizontal"&&e.ellipsis?k=Fn(s,V).stop:k==null||k()});{const c=N=>{u.value[N.index]=N},i=N=>{delete u.value[N.index]};ee("rootMenu",Se({props:e,openedMenus:m,items:w,subMenus:u,activeIndex:f,isMenuPopup:y,addMenuItem:N=>{w.value[N.index]=N},removeMenuItem:N=>{delete w.value[N.index]},addSubMenu:c,removeSubMenu:i,openMenu:C,closeMenu:D,handleMenuItemClick:U,handleSubMenuClick:S})),ee(`subMenu:${r.uid}`,{addSubMenu:c,removeSubMenu:i,mouseInChild:E(!1),level:0})}return ge(()=>{e.mode==="horizontal"&&new So(r.vnode.el,a.namespace.value)}),t({open:i=>{const{indexPath:d}=u.value[i];d.forEach(R=>C(R,d))},close:D,handleResize:V}),()=>{var c,i;let d=(i=(c=o.default)==null?void 0:c.call(o))!=null?i:[];const R=[];if(e.mode==="horizontal"&&s.value){const W=Nn(d),J=p.value===-1?W:W.slice(0,p.value),X=p.value===-1?[]:W.slice(p.value);X!=null&&X.length&&e.ellipsis&&(d=J,R.push(B(Pe,{index:"sub-menu-more",class:l.e("hide-arrow")},{title:()=>B(he,{class:l.e("icon-more")},{default:()=>B(hn)}),default:()=>X})))}const N=en(e,0),h=B("ul",{key:String(e.collapse),role:"menubar",ref:s,style:N.value,class:{[a.b()]:!0,[a.m(e.mode)]:!0,[a.m("collapse")]:e.collapse}},[...d,...R]);return e.collapseTransition&&e.mode==="vertical"?B(No,()=>h):h}}});const Do=le({index:{type:H([String,null]),default:null},route:{type:H([String,Object])},disabled:Boolean}),Lo={click:e=>re(e.index)&&Array.isArray(e.indexPath)},_e="ElMenuItem",Ko=j({name:_e,components:{ElTooltip:ke},props:Do,emits:Lo,setup(e,{emit:n}){const o=de(),t=O("rootMenu"),r=Z("menu"),v=Z("menu-item");t||be(_e,"can not inject root menu");const{parentMenu:s,indexPath:a}=xe(o,se(e,"index")),l=O(`subMenu:${s.value.uid}`);l||be(_e,"can not inject sub menu");const p=g(()=>e.index===t.activeIndex),m=Se({index:e.index,indexPath:a,active:p}),f=()=>{e.disabled||(t.handleMenuItemClick({index:e.index,indexPath:a.value,route:e.route}),n("click",m))};return ge(()=>{l.addSubMenu(m),t.addMenuItem(m)}),$e(()=>{l.removeSubMenu(m),t.removeMenuItem(m)}),{parentMenu:s,rootMenu:t,active:p,nsMenu:r,nsMenuItem:v,handleClick:f}}});function zo(e,n,o,t,r,v){const s=A("el-tooltip");return z(),oe("li",{class:te([e.nsMenuItem.b(),e.nsMenuItem.is("active",e.active),e.nsMenuItem.is("disabled",e.disabled)]),role:"menuitem",tabindex:"-1",onClick:n[0]||(n[0]=(...a)=>e.handleClick&&e.handleClick(...a))},[e.parentMenu.type.name==="ElMenu"&&e.rootMenu.props.collapse&&e.$slots.title?(z(),ne(s,{key:0,effect:e.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:$(()=>[P(e.$slots,"title")]),default:$(()=>[ve("div",{class:te(e.nsMenu.be("tooltip","trigger"))},[P(e.$slots,"default")],2)]),_:3},8,["effect"])):(z(),oe(Ie,{key:1},[P(e.$slots,"default"),P(e.$slots,"title")],64))],2)}var nn=Q(Ko,[["render",zo],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item.vue"]]);const Go={title:String},Yo="ElMenuItemGroup",jo=j({name:Yo,props:Go,setup(){return{ns:Z("menu-item-group")}}});function Uo(e,n,o,t,r,v){return z(),oe("li",{class:te(e.ns.b())},[ve("div",{class:te(e.ns.e("title"))},[e.$slots.title?P(e.$slots,"title",{key:1}):(z(),oe(Ie,{key:0},[wn(yn(e.title),1)],64))],2),ve("ul",null,[P(e.$slots,"default")])],2)}var on=Q(jo,[["render",Uo],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item-group.vue"]]);const ot=je(Ao,{MenuItem:nn,MenuItemGroup:on,SubMenu:Pe}),tt=pe(nn),lt=pe(on),st=pe(Pe);export{Zo as E,Qo as a,Xo as b,ot as c,lo as d,tt as e,lt as f,st as g};
