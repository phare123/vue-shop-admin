/* empty css             *//* empty css                  *//* empty css                      *//* empty css                 *//* empty css               *//* empty css                   *//* empty css                        *//* empty css                    *//* empty css                  *//* empty css                  *//* empty css                       *//* empty css                       *//* empty css               *//* empty css                *//* empty css                */import{v as U,E as oe}from"./msgTip-a00a6396.js";import{t as ne}from"./tableHeader-f66fb168.js";import{g as H,a as re,b as ie}from"./distribution-7b954211.js";import{u as q}from"./useCommon-3fca7f65.js";import{_ as se}from"./formDrawer-615cee08.js";/* empty css                */import"./el-form-item-4ed993c7.js";import{_ as G}from"./_plugin-vue_export-helper-c27b6911.js";import{a as J,b as K}from"./index-83c7d896.js";import{a as de,E as pe}from"./index-ae57328d.js";import{E as M}from"./index-cd6b903f.js";import{a as j,E as Q}from"./index-4bd039ef.js";import{E as W}from"./index-4c63a36d.js";import{E as X}from"./index-61f461ba.js";import{v as Y}from"./directive-7bc345b5.js";import{r as x,m as f,B as V,C as t,K as e,u as l,H as p,q as r,D as g,o as me,av as N,n as O,J as _e,R as ce,x as ue,F as ge,I as h,E as fe,a7 as he}from"./index-d45ed081.js";import{E as be}from"./index-7aff1b23.js";import{E as ve,a as ye}from"./index-90167cc1.js";/* empty css                   */import"./index-c440b37e.js";import"./index-6998b886.js";import"./queryParams-4c57c9da.js";import"./index-1cb0abaf.js";import"./_initCloneObject-4b55852b.js";import"./arrays-e667dc24.js";import"./index-184e15d9.js";import"./index-ebc90b42.js";import"./index-b06f2c24.js";import"./index-151d4a8e.js";import"./strings-5238cde9.js";import"./js.cookie-cf83ad76.js";const Ce={class:"table-box"},we={__name:"promoteDrawer",setup(Z,{expose:E}){const D=x(""),b=x([]),{loading:I,tableData:S,total:s,searchForm:m,changePage:_,getData:v,currentPage:L,handleDel:c}=q({searchForm:{type:"all",user_id:0,starttime:"",endtime:"",level:0},getList:H}),z=x(null);return E({open:(u,a)=>{m.user_id=a,D.value=u,u=="person"?v():re(L.value,{...m}).then(i=>{console.log(i),b.value=i.data.list}),z.value.open()}}),(u,a)=>{const i=J,B=K,y=de,T=M,C=pe,d=j,A=W,R=Q,w=X,$=se,F=Y;return f(),V($,{ref_key:"distributionRef",ref:z,size:"55%",title:D.value=="person"?"推广人":"推广订单",destroyOnClose:""},{default:t(()=>[e(C,{"label-width":"auto"},{default:t(()=>[e(y,{label:"时间范围"},{default:t(()=>[e(B,{onChange:l(v),modelValue:l(m).type,"onUpdate:modelValue":a[0]||(a[0]=n=>l(m).type=n),size:"small"},{default:t(()=>[e(i,{label:"all"},{default:t(()=>[p("全部")]),_:1}),e(i,{label:"today"},{default:t(()=>[p("今天")]),_:1}),e(i,{label:"yesterday"},{default:t(()=>[p("昨天")]),_:1}),e(i,{label:"last7day"},{default:t(()=>[p("最近七天")]),_:1})]),_:1},8,["onChange","modelValue"])]),_:1}),e(y,{label:"开始时间"},{default:t(()=>[e(T,{size:"small",modelValue:l(m).starttime,"onUpdate:modelValue":a[1]||(a[1]=n=>l(m).starttime=n),type:"date",placeholder:"开始日期",onChange:l(v)},null,8,["modelValue","onChange"])]),_:1}),e(y,{label:"结束时间"},{default:t(()=>[e(T,{size:"small",modelValue:l(m).endtime,"onUpdate:modelValue":a[2]||(a[2]=n=>l(m).endtime=n),type:"date",placeholder:"结束日期",onChange:l(v)},null,8,["modelValue","onChange"])]),_:1}),e(y,{label:"用户类型"},{default:t(()=>[e(B,{onChange:l(v),modelValue:l(m).level,"onUpdate:modelValue":a[3]||(a[3]=n=>l(m).level=n),size:"small"},{default:t(()=>[e(i,{label:0},{default:t(()=>[p("全部")]),_:1}),e(i,{label:1},{default:t(()=>[p("一级推广")]),_:1}),e(i,{label:2},{default:t(()=>[p("二级推广")]),_:1})]),_:1},8,["onChange","modelValue"])]),_:1})]),_:1}),r("div",Ce,[D.value=="person"?g((f(),V(R,{key:0,"max-height":"480px",data:l(S),stripe:"",style:{width:"100%"}},{default:t(()=>[e(d,{prop:"id",label:"UID",width:"60",align:"center"}),e(d,{label:"头像",width:"120",align:"center"},{default:t(({row:n})=>[e(A,{src:n.avatar!=""?n.avatar:"https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png",fit:"cover",round:""},null,8,["src"])]),_:1}),e(d,{label:"用户信息",width:"130",prop:"username",align:"center"}),e(d,{label:"推广数量",width:"130",prop:"share_num",align:"center"}),e(d,{label:"推广订单数",width:"130",prop:"share_order_num",align:"center"}),e(d,{label:"绑定时间",width:"auto",prop:"create_time",align:"center"})]),_:1},8,["data"])),[[F,l(I)]]):g((f(),V(R,{key:1,"max-height":"480px",data:b.value,stripe:"",style:{width:"100%"}},{default:t(()=>[e(d,{label:"订单号",width:"auto",prop:"order.no",align:"center"}),e(d,{label:"用户名",width:"80",prop:"order.user.username",align:"center"}),e(d,{label:"昵称",width:"80",prop:"order.user.nickname",align:"center"}),e(d,{label:"手机号",width:"140",prop:"order.user.phone",align:"center"}),e(d,{label:"时间",width:"140",prop:"create_time",align:"center"}),e(d,{label:"返佣金额",width:"100",prop:"commission",align:"center"})]),_:1},8,["data"])),[[F,l(I)]]),e(w,{small:"",background:"",layout:"prev, pager, next",total:l(s),onCurrentChange:l(_)},null,8,["total","onCurrentChange"])])]),_:1},8,["title"])}}},ke=G(we,[["__scopeId","data-v-fd54035b"]]);const xe={class:"statistic-item"},Ve={class:"l-content"},Ee={class:"r-content"},De={class:"search-item"},ze={class:"search-input"},Be={class:"input-box"},Re={class:"input-item"},Ue={class:"input-item"},Ie={class:"btn"},Te={style:{display:"flex","flex-direction":"column"}},Fe={__name:"index",setup(Z){let E=x([{icon:"User",bgColor:"#60a5fa"},{icon:"ShoppingCart",bgColor:"#fb923c"},{icon:"PriceTag",bgColor:"#34d399"},{icon:"Timer",bgColor:"#818cf8"}]);const D=()=>{b.value=!0,ie().then(u=>{E.value=E.value.map((a,i)=>({...a,...u.data.panels[i]}))}).finally(()=>{b.value=!1})},{loading:b,tableData:I,total:S,searchForm:s,changePage:m,getData:_,handleDel:v}=q({searchForm:{type:"all",keyword:"",starttime:"",endtime:"",level:0},getList:H}),L=()=>{s.type="all",s.keyword="",s.starttime="",s.endtime="",_()},c=x(!0),z=x(null),P=(u,a)=>{z.value.open(u,a)};return me(()=>{D(),_()}),(u,a)=>{const i=fe,B=be,y=ve,T=ye,C=J,d=K,A=oe,R=M,w=he,$=N("ArrowDownBold"),F=N("ArrowUpBold"),n=j,ee=W,te=Q,le=X,ae=Y;return f(),O("div",null,[e(T,{gutter:20},{default:t(()=>[(f(!0),O(_e,null,ce(l(E),(o,k)=>(f(),V(y,{span:6,key:k},{default:t(()=>[e(B,{shadow:"never"},{default:t(()=>[r("div",xe,[r("div",Ve,[e(i,{style:ue({backgroundColor:o.bgColor})},{default:t(()=>[(f(),V(ge(o.icon)))]),_:2},1032,["style"])]),r("div",Ee,[r("h3",null,h(o.value),1),r("small",null,h(o.label),1)])])]),_:2},1024)]),_:2},1024))),128))]),_:1}),e(B,{shadow:"never",class:"card-box"},{default:t(()=>[r("div",De,[r("div",ze,[e(d,{onChange:l(_),modelValue:l(s).type,"onUpdate:modelValue":a[0]||(a[0]=o=>l(s).type=o),size:"small"},{default:t(()=>[e(C,{label:"all"},{default:t(()=>[p("全部")]),_:1}),e(C,{label:"today"},{default:t(()=>[p("今天")]),_:1}),e(C,{label:"yesterday"},{default:t(()=>[p("昨天")]),_:1}),e(C,{label:"last7day"},{default:t(()=>[p("最近七天")]),_:1})]),_:1},8,["onChange","modelValue"]),r("div",Be,[g(e(A,{class:"input-item",size:"small","prefix-icon":"Search",modelValue:l(s).keyword,"onUpdate:modelValue":a[1]||(a[1]=o=>l(s).keyword=o),placeholder:"关键词",clearable:"",onChange:l(_)},null,8,["modelValue","onChange"]),[[U,!c.value]]),g(r("div",Re,[e(R,{size:"small",modelValue:l(s).starttime,"onUpdate:modelValue":a[2]||(a[2]=o=>l(s).starttime=o),type:"date",placeholder:"开始日期",onChange:l(_)},null,8,["modelValue","onChange"])],512),[[U,!c.value]]),g(r("div",Ue,[e(R,{size:"small",modelValue:l(s).endtime,"onUpdate:modelValue":a[3]||(a[3]=o=>l(s).endtime=o),type:"date",placeholder:"结束日期",onChange:l(_)},null,8,["modelValue","onChange"])],512),[[U,!c.value]])])]),r("div",Ie,[e(w,{size:"small",onClick:L,plain:""},{default:t(()=>[p("清空")]),_:1}),e(w,{class:"type-btn",link:"",type:"primary",onClick:a[4]||(a[4]=o=>c.value=!c.value)},{default:t(()=>[r("p",null,h(c.value?"展开":"收起"),1),g(e(i,null,{default:t(()=>[e($)]),_:1},512),[[U,c.value]]),g(e(i,null,{default:t(()=>[e(F)]),_:1},512),[[U,!c.value]])]),_:1})])]),e(ne,{layout:"refresh",onRefresh:l(_)},null,8,["onRefresh"]),g((f(),V(te,{"max-height":"480px",data:l(I),stripe:"",style:{width:"100%"}},{default:t(()=>[e(n,{prop:"id",label:"ID",width:"60",align:"center"}),e(n,{label:"头像",width:"120",align:"center"},{default:t(({row:o})=>[e(ee,{src:o.avatar!=""?o.avatar:"https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png",fit:"cover",round:""},null,8,["src"])]),_:1}),e(n,{label:"用户信息",width:"120"},{default:t(({row:o})=>{var k;return[r("div",Te,[r("small",null,"用户:"+h(o.username),1),r("small",null,"昵称:"+h(o.nickname),1),r("small",null,"姓名:"+h(((k=o.user_info)==null?void 0:k.name)??"私密"),1),r("small",null,"电话:"+h((o==null?void 0:o.phone)??"私密"),1)])]}),_:1}),e(n,{label:"推广用户数量",width:"100",prop:"share_num",align:"center"}),e(n,{label:"订单数量",width:"100",prop:"share_order_num",align:"center"}),e(n,{label:"订单金额",width:"100",prop:"order_price",align:"center"}),e(n,{label:"账户佣金",width:"100",prop:"commission",align:"center"}),e(n,{label:"已提取金额",width:"100",prop:"cash_out_price",align:"center"}),e(n,{label:"提现次数",width:"100",prop:"cash_out_time",align:"center"}),e(n,{label:"未提现金额",width:"100",prop:"no_cash_out_price",align:"center"}),e(n,{fixed:"right",label:"操作",width:"auto",align:"center"},{default:t(({row:o})=>[e(w,{link:"",type:"primary",size:"small",onClick:k=>P("person",o.id)},{default:t(()=>[p("推广人")]),_:2},1032,["onClick"]),e(w,{link:"",type:"primary",size:"small",onClick:a[5]||(a[5]=k=>P("order"))},{default:t(()=>[p("推广订单")]),_:1})]),_:1})]),_:1},8,["data"])),[[ae,l(b)]]),e(le,{small:"",background:"",layout:"prev, pager, next",total:l(S),onCurrentChange:l(m)},null,8,["total","onCurrentChange"])]),_:1}),e(ke,{ref_key:"promoteDrawerRef",ref:z},null,512)])}}},Dt=G(Fe,[["__scopeId","data-v-b75c1ba3"]]);export{Dt as default};
