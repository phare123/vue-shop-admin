import{i as Ne,h as M,cy as pt,a2 as we,ca as oe,d as $,b as se,f as re,g as he,r as G,ac as bt,u as o,l as Se,a9 as Ct,an as ae,c as be,o as St,aZ as Et,F as Me,L as Ge,V as de,ah as Nt,Z as wt,as as xt,s as Tt,M as Mt,a0 as Xe,bz as Lt,m as ne,n as Le,q as Je,B as ke,C as Qe,v as fe,E as _t,G as qe,K as Kt,x as et,_ as tt,A as Ot,$ as Ve,bA as It,I as Rt,y as Dt}from"./index-d45ed081.js";import{m as ue,e as Ce,f as At}from"./msgTip-a00a6396.js";import{E as zt}from"./index-184e15d9.js";import{B as Bt}from"./index-6998b886.js";const Ft=()=>Ne&&/firefox/i.test(window.navigator.userAgent),nt=e=>Ne?window.requestAnimationFrame(e):setTimeout(e,16),lt=e=>Ne?window.cancelAnimationFrame(e):clearTimeout(e);var We=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Ht(e,t){return!!(e===t||We(e)&&We(t))}function Pt(e,t){if(e.length!==t.length)return!1;for(var l=0;l<e.length;l++)if(!Ht(e[l],t[l]))return!1;return!0}function $t(e,t){t===void 0&&(t=Pt);var l=null;function i(){for(var c=[],y=0;y<arguments.length;y++)c[y]=arguments[y];if(l&&l.lastThis===this&&t(c,l.lastArgs))return l.lastResult;var v=e.apply(this,c);return l={lastResult:v,lastArgs:c,lastThis:this},v}return i.clear=function(){l=null},i}const Gt=()=>{const t=we().proxy.$props;return M(()=>{const l=(i,c,y)=>({});return t.perfMode?pt(l):$t(l)})},Mn=50,je="itemRendered",Ue="scroll",at="forward",ot="backward",_e="auto",qt="smart",Vt="start",Ye="center",Wt="end",ve="horizontal",Fe="vertical",jt="ltr",pe="rtl",Ke="negative",st="positive-ascending",rt="positive-descending",Ut={[ve]:"left",[Fe]:"top"},Yt=20,Zt={[ve]:"deltaX",[Fe]:"deltaY"},Xt=({atEndEdge:e,atStartEdge:t,layout:l},i)=>{let c,y=0;const v=k=>k<0&&t.value||k>0&&e.value;return{hasReachedEdge:v,onWheel:k=>{lt(c);const m=k[Zt[l.value]];v(y)&&v(y+m)||(y+=m,Ft()||k.preventDefault(),c=nt(()=>{i(y),y=0}))}}},Oe=oe({type:$([Number,Function]),required:!0}),Ie=oe({type:Number}),Re=oe({type:Number,default:2}),Jt=oe({type:String,values:["ltr","rtl"],default:"ltr"}),De=oe({type:Number,default:0}),Ee=oe({type:Number,required:!0}),ct=oe({type:String,values:["horizontal","vertical"],default:Fe}),it=se({className:{type:String,default:""},containerElement:{type:$([String,Object]),default:"div"},data:{type:$(Array),default:()=>ue([])},direction:Jt,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:$([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),Qt=se({cache:Re,estimatedItemSize:Ie,layout:ct,initScrollOffset:De,total:Ee,itemSize:Oe,...it}),Ae={type:Number,default:6},dt={type:Number,default:0},ut={type:Number,default:2},Ln=se({columnCache:Re,columnWidth:Oe,estimatedColumnWidth:Ie,estimatedRowHeight:Ie,initScrollLeft:De,initScrollTop:De,itemKey:{type:$(Function),default:({columnIndex:e,rowIndex:t})=>`${t}:${e}`},rowCache:Re,rowHeight:Oe,totalColumn:Ee,totalRow:Ee,hScrollbarSize:Ae,vScrollbarSize:Ae,scrollbarStartGap:dt,scrollbarEndGap:ut,...it}),en=se({alwaysOn:Boolean,class:String,layout:ct,total:Ee,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:Ae,startGap:dt,endGap:ut,visible:Boolean}),Te=(e,t)=>e<t?at:ot,ze=e=>e===jt||e===pe||e===ve,_n=e=>e===pe;let ie=null;function Ze(e=!1){if(ie===null||e){const t=document.createElement("div"),l=t.style;l.width="50px",l.height="50px",l.overflow="scroll",l.direction="rtl";const i=document.createElement("div"),c=i.style;return c.width="100px",c.height="100px",t.appendChild(i),document.body.appendChild(t),t.scrollLeft>0?ie=rt:(t.scrollLeft=1,t.scrollLeft===0?ie=Ke:ie=st),document.body.removeChild(t),ie}return ie}function tn({move:e,size:t,bar:l},i){const c={},y=`translate${l.axis}(${e}px)`;return c[l.size]=t,c.transform=y,c.msTransform=y,c.webkitTransform=y,i==="horizontal"?c.height="100%":c.width="100%",c}const nn=re({name:"ElVirtualScrollBar",props:en,emits:["scroll","start-move","stop-move"],setup(e,{emit:t}){const l=M(()=>e.startGap+e.endGap),i=he("virtual-scrollbar"),c=he("scrollbar"),y=G(),v=G();let S=null,k=null;const m=bt({isDragging:!1,traveled:0}),a=M(()=>Bt[e.layout]),s=M(()=>e.clientSize-o(l)),w=M(()=>({position:"absolute",width:`${ve===e.layout?s.value:e.scrollbarSize}px`,height:`${ve===e.layout?e.scrollbarSize:s.value}px`,[Ut[e.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),O=M(()=>{const r=e.ratio,g=e.clientSize;if(r>=100)return Number.POSITIVE_INFINITY;if(r>=50)return r*g/100;const x=g/3;return Math.floor(Math.min(Math.max(r*g,Yt),x))}),L=M(()=>{if(!Number.isFinite(O.value))return{display:"none"};const r=`${O.value}px`;return tn({bar:a.value,size:r,move:m.traveled},e.layout)}),p=M(()=>Math.floor(e.clientSize-O.value-o(l))),F=()=>{window.addEventListener("mousemove",d),window.addEventListener("mouseup",u);const r=o(v);r&&(k=document.onselectstart,document.onselectstart=()=>!1,r.addEventListener("touchmove",d),r.addEventListener("touchend",u))},N=()=>{window.removeEventListener("mousemove",d),window.removeEventListener("mouseup",u),document.onselectstart=k,k=null;const r=o(v);r&&(r.removeEventListener("touchmove",d),r.removeEventListener("touchend",u))},I=r=>{r.stopImmediatePropagation(),!(r.ctrlKey||[1,2].includes(r.button))&&(m.isDragging=!0,m[a.value.axis]=r.currentTarget[a.value.offset]-(r[a.value.client]-r.currentTarget.getBoundingClientRect()[a.value.direction]),t("start-move"),F())},u=()=>{m.isDragging=!1,m[a.value.axis]=0,t("stop-move"),N()},d=r=>{const{isDragging:g}=m;if(!g||!v.value||!y.value)return;const x=m[a.value.axis];if(!x)return;lt(S);const _=(y.value.getBoundingClientRect()[a.value.direction]-r[a.value.client])*-1,K=v.value[a.value.offset]-x,A=_-K;S=nt(()=>{m.traveled=Math.max(e.startGap,Math.min(A,p.value)),t("scroll",A,p.value)})},b=r=>{const g=Math.abs(r.target.getBoundingClientRect()[a.value.direction]-r[a.value.client]),x=v.value[a.value.offset]/2,_=g-x;m.traveled=Math.max(0,Math.min(_,p.value)),t("scroll",_,p.value)};return Se(()=>e.scrollFrom,r=>{m.isDragging||(m.traveled=Math.ceil(r*p.value))}),Ct(()=>{N()}),()=>ae("div",{role:"presentation",ref:y,class:[i.b(),e.class,(e.alwaysOn||m.isDragging)&&"always-on"],style:w.value,onMousedown:Ce(b,["stop","prevent"]),onTouchstartPrevent:I},ae("div",{ref:v,class:c.e("thumb"),style:L.value,onMousedown:I},[]))}}),ln=({name:e,getOffset:t,getItemSize:l,getItemOffset:i,getEstimatedTotalSize:c,getStartIndexForOffset:y,getStopIndexForStartIndex:v,initCache:S,clearCache:k,validateProps:m})=>re({name:e??"ElVirtualList",props:Qt,emits:[je,Ue],setup(a,{emit:s,expose:w}){m(a);const O=we(),L=he("vl"),p=G(S(a,O)),F=Gt(),N=G(),I=G(),u=G(),d=G({isScrolling:!1,scrollDir:"forward",scrollOffset:be(a.initScrollOffset)?a.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:a.scrollbarAlwaysOn}),b=M(()=>{const{total:f,cache:C}=a,{isScrolling:E,scrollDir:z,scrollOffset:T}=o(d);if(f===0)return[0,0,0,0];const n=y(a,T,o(p)),h=v(a,n,T,o(p)),D=!E||z===ot?Math.max(1,C):1,B=!E||z===at?Math.max(1,C):1;return[Math.max(0,n-D),Math.max(0,Math.min(f-1,h+B)),n,h]}),r=M(()=>c(a,o(p))),g=M(()=>ze(a.layout)),x=M(()=>[{position:"relative",[`overflow-${g.value?"x":"y"}`]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:a.direction,height:be(a.height)?`${a.height}px`:a.height,width:be(a.width)?`${a.width}px`:a.width},a.style]),_=M(()=>{const f=o(r),C=o(g);return{height:C?"100%":`${f}px`,pointerEvents:o(d).isScrolling?"none":void 0,width:C?`${f}px`:"100%"}}),K=M(()=>g.value?a.width:a.height),{onWheel:A}=Xt({atStartEdge:M(()=>d.value.scrollOffset<=0),atEndEdge:M(()=>d.value.scrollOffset>=r.value),layout:M(()=>a.layout)},f=>{var C,E;(E=(C=u.value).onMouseUp)==null||E.call(C),V(Math.min(d.value.scrollOffset+f,r.value-K.value))}),q=()=>{const{total:f}=a;if(f>0){const[T,n,h,D]=o(b);s(je,T,n,h,D)}const{scrollDir:C,scrollOffset:E,updateRequested:z}=o(d);s(Ue,C,E,z)},W=f=>{const{clientHeight:C,scrollHeight:E,scrollTop:z}=f.currentTarget,T=o(d);if(T.scrollOffset===z)return;const n=Math.max(0,Math.min(z,E-C));d.value={...T,isScrolling:!0,scrollDir:Te(T.scrollOffset,n),scrollOffset:n,updateRequested:!1},de(Z)},Y=f=>{const{clientWidth:C,scrollLeft:E,scrollWidth:z}=f.currentTarget,T=o(d);if(T.scrollOffset===E)return;const{direction:n}=a;let h=E;if(n===pe)switch(Ze()){case Ke:{h=-E;break}case rt:{h=z-C-E;break}}h=Math.max(0,Math.min(h,z-C)),d.value={...T,isScrolling:!0,scrollDir:Te(T.scrollOffset,h),scrollOffset:h,updateRequested:!1},de(Z)},le=f=>{o(g)?Y(f):W(f),q()},ee=(f,C)=>{const E=(r.value-K.value)/C*f;V(Math.min(r.value-K.value,E))},V=f=>{f=Math.max(f,0),f!==o(d).scrollOffset&&(d.value={...o(d),scrollOffset:f,scrollDir:Te(o(d).scrollOffset,f),updateRequested:!0},de(Z))},H=(f,C=_e)=>{const{scrollOffset:E}=o(d);f=Math.max(0,Math.min(f,a.total-1)),V(t(a,f,C,E,o(p)))},te=f=>{const{direction:C,itemSize:E,layout:z}=a,T=F.value(k&&E,k&&z,k&&C);let n;if(Nt(T,String(f)))n=T[f];else{const h=i(a,f,o(p)),D=l(a,f,o(p)),B=o(g),X=C===pe,J=B?h:0;T[f]=n={position:"absolute",left:X?void 0:`${J}px`,right:X?`${J}px`:void 0,top:B?0:`${h}px`,height:B?"100%":`${D}px`,width:B?`${D}px`:"100%"}}return n},Z=()=>{d.value.isScrolling=!1,de(()=>{F.value(-1,null,null)})},P=()=>{const f=N.value;f&&(f.scrollTop=0)};St(()=>{if(!Ne)return;const{initScrollOffset:f}=a,C=o(N);be(f)&&C&&(o(g)?C.scrollLeft=f:C.scrollTop=f),q()}),Et(()=>{const{direction:f,layout:C}=a,{scrollOffset:E,updateRequested:z}=o(d),T=o(N);if(z&&T)if(C===ve)if(f===pe)switch(Ze()){case Ke:{T.scrollLeft=-E;break}case st:{T.scrollLeft=E;break}default:{const{clientWidth:n,scrollWidth:h}=T;T.scrollLeft=h-n-E;break}}else T.scrollLeft=E;else T.scrollTop=E});const R={ns:L,clientSize:K,estimatedTotalSize:r,windowStyle:x,windowRef:N,innerRef:I,innerStyle:_,itemsToRender:b,scrollbarRef:u,states:d,getItemStyle:te,onScroll:le,onScrollbarScroll:ee,onWheel:A,scrollTo:V,scrollToItem:H,resetScrollTop:P};return w({windowRef:N,innerRef:I,getItemStyleCache:F,scrollTo:V,scrollToItem:H,resetScrollTop:P,states:d}),R},render(a){var s;const{$slots:w,className:O,clientSize:L,containerElement:p,data:F,getItemStyle:N,innerElement:I,itemsToRender:u,innerStyle:d,layout:b,total:r,onScroll:g,onScrollbarScroll:x,onWheel:_,states:K,useIsScrolling:A,windowStyle:q,ns:W}=a,[Y,le]=u,ee=Me(p),V=Me(I),H=[];if(r>0)for(let R=Y;R<=le;R++)H.push((s=w.default)==null?void 0:s.call(w,{data:F,key:R,index:R,isScrolling:A?K.isScrolling:void 0,style:N(R)}));const te=[ae(V,{style:d,ref:"innerRef"},Ge(V)?H:{default:()=>H})],Z=ae(nn,{ref:"scrollbarRef",clientSize:L,layout:b,onScroll:x,ratio:L*100/this.estimatedTotalSize,scrollFrom:K.scrollOffset/(this.estimatedTotalSize-L),total:r}),P=ae(ee,{class:[W.e("window"),O],style:q,onScroll:g,onWheel:_,ref:"windowRef",key:0},Ge(ee)?[te]:{default:()=>[te]});return ae("div",{key:0,class:[W.e("wrapper"),K.scrollbarAlwaysOn?"always-on":""]},[P,Z])}}),an=ln({name:"ElFixedSizeList",getItemOffset:({itemSize:e},t)=>t*e,getItemSize:({itemSize:e})=>e,getEstimatedTotalSize:({total:e,itemSize:t})=>t*e,getOffset:({height:e,total:t,itemSize:l,layout:i,width:c},y,v,S)=>{const k=ze(i)?c:e,m=Math.max(0,t*l-k),a=Math.min(m,y*l),s=Math.max(0,(y+1)*l-k);switch(v===qt&&(S>=s-k&&S<=a+k?v=_e:v=Ye),v){case Vt:return a;case Wt:return s;case Ye:{const w=Math.round(s+(a-s)/2);return w<Math.ceil(k/2)?0:w>m+Math.floor(k/2)?m:w}case _e:default:return S>=s&&S<=a?S:S<s?s:a}},getStartIndexForOffset:({total:e,itemSize:t},l)=>Math.max(0,Math.min(e-1,Math.floor(l/t))),getStopIndexForStartIndex:({height:e,total:t,itemSize:l,layout:i,width:c},y,v)=>{const S=y*l,k=ze(i)?c:e,m=Math.ceil((k+v-S)/l);return Math.max(0,Math.min(t-1,y+m-1))},initCache(){},clearCache:!0,validateProps(){}}),He=Symbol(),on={key:-1,level:-1,data:{}};var ge=(e=>(e.KEY="id",e.LABEL="label",e.CHILDREN="children",e.DISABLED="disabled",e))(ge||{}),Be=(e=>(e.ADD="add",e.DELETE="delete",e))(Be||{});const sn=se({data:{type:$(Array),default:()=>ue([])},emptyText:{type:String},height:{type:Number,default:200},props:{type:$(Object),default:()=>ue({children:"children",label:"label",disabled:"disabled",value:"id"})},highlightCurrent:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},defaultCheckedKeys:{type:$(Array),default:()=>ue([])},checkStrictly:{type:Boolean,default:!1},defaultExpandedKeys:{type:$(Array),default:()=>ue([])},indent:{type:Number,default:16},icon:{type:wt},expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:{type:Boolean,default:!1},currentNodeKey:{type:$([String,Number])},accordion:{type:Boolean,default:!1},filterMethod:{type:$(Function)},perfMode:{type:Boolean,default:!0}}),rn=se({node:{type:$(Object),default:()=>ue(on)},expanded:{type:Boolean,default:!1},checked:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},current:{type:Boolean,default:!1},hiddenExpandIcon:{type:Boolean,default:!1}}),cn=se({node:{type:$(Object),required:!0}}),ft="node-click",ht="node-expand",vt="node-collapse",yt="current-change",mt="check",gt="check-change",kt="node-contextmenu",dn={[ft]:(e,t,l)=>e&&t&&l,[ht]:(e,t)=>e&&t,[vt]:(e,t)=>e&&t,[yt]:(e,t)=>e&&t,[mt]:(e,t)=>e&&t,[gt]:(e,t)=>e&&typeof t=="boolean",[kt]:(e,t,l)=>e&&t&&l},un={click:(e,t)=>!!(e&&t),toggle:e=>!!e,check:(e,t)=>e&&typeof t=="boolean"};function fn(e,t){const l=G(new Set),i=G(new Set),{emit:c}=we();Se([()=>t.value,()=>e.defaultCheckedKeys],()=>de(()=>{I(e.defaultCheckedKeys)}),{immediate:!0});const y=()=>{if(!t.value||!e.showCheckbox||e.checkStrictly)return;const{levelTreeNodeMap:u,maxLevel:d}=t.value,b=l.value,r=new Set;for(let g=d-1;g>=1;--g){const x=u.get(g);x&&x.forEach(_=>{const K=_.children;if(K){let A=!0,q=!1;for(const W of K){const Y=W.key;if(b.has(Y))q=!0;else if(r.has(Y)){A=!1,q=!0;break}else A=!1}A?b.add(_.key):q?(r.add(_.key),b.delete(_.key)):(b.delete(_.key),r.delete(_.key))}})}i.value=r},v=u=>l.value.has(u.key),S=u=>i.value.has(u.key),k=(u,d,b=!0)=>{const r=l.value,g=(x,_)=>{r[_?Be.ADD:Be.DELETE](x.key);const K=x.children;!e.checkStrictly&&K&&K.forEach(A=>{A.disabled||g(A,_)})};g(u,d),y(),b&&m(u,d)},m=(u,d)=>{const{checkedNodes:b,checkedKeys:r}=L(),{halfCheckedNodes:g,halfCheckedKeys:x}=p();c(mt,u.data,{checkedKeys:r,checkedNodes:b,halfCheckedKeys:x,halfCheckedNodes:g}),c(gt,u.data,d)};function a(u=!1){return L(u).checkedKeys}function s(u=!1){return L(u).checkedNodes}function w(){return p().halfCheckedKeys}function O(){return p().halfCheckedNodes}function L(u=!1){const d=[],b=[];if(t!=null&&t.value&&e.showCheckbox){const{treeNodeMap:r}=t.value;l.value.forEach(g=>{const x=r.get(g);x&&(!u||u&&x.isLeaf)&&(b.push(g),d.push(x.data))})}return{checkedKeys:b,checkedNodes:d}}function p(){const u=[],d=[];if(t!=null&&t.value&&e.showCheckbox){const{treeNodeMap:b}=t.value;i.value.forEach(r=>{const g=b.get(r);g&&(d.push(r),u.push(g.data))})}return{halfCheckedNodes:u,halfCheckedKeys:d}}function F(u){l.value.clear(),i.value.clear(),I(u)}function N(u,d){if(t!=null&&t.value&&e.showCheckbox){const b=t.value.treeNodeMap.get(u);b&&k(b,d,!1)}}function I(u){if(t!=null&&t.value){const{treeNodeMap:d}=t.value;if(e.showCheckbox&&d&&u)for(const b of u){const r=d.get(b);r&&!v(r)&&k(r,!0,!1)}}}return{updateCheckedKeys:y,toggleCheckbox:k,isChecked:v,isIndeterminate:S,getCheckedKeys:a,getCheckedNodes:s,getHalfCheckedKeys:w,getHalfCheckedNodes:O,setChecked:N,setCheckedKeys:F}}function hn(e,t){const l=G(new Set([])),i=G(new Set([])),c=M(()=>xt(e.filterMethod));function y(S){var k;if(!c.value)return;const m=new Set,a=i.value,s=l.value,w=[],O=((k=t.value)==null?void 0:k.treeNodes)||[],L=e.filterMethod;s.clear();function p(F){F.forEach(N=>{w.push(N),L!=null&&L(S,N.data)?w.forEach(u=>{m.add(u.key)}):N.isLeaf&&s.add(N.key);const I=N.children;if(I&&p(I),!N.isLeaf){if(!m.has(N.key))s.add(N.key);else if(I){let u=!0;for(const d of I)if(!s.has(d.key)){u=!1;break}u?a.add(N.key):a.delete(N.key)}}w.pop()})}return p(O),m}function v(S){return i.value.has(S.key)}return{hiddenExpandIconKeySet:i,hiddenNodeKeySet:l,doFilter:y,isForceHiddenExpandIcon:v}}function vn(e,t){const l=G(new Set(e.defaultExpandedKeys)),i=G(),c=Tt();Se(()=>e.currentNodeKey,n=>{i.value=n},{immediate:!0}),Se(()=>e.data,n=>{z(n)},{immediate:!0});const{isIndeterminate:y,isChecked:v,toggleCheckbox:S,getCheckedKeys:k,getCheckedNodes:m,getHalfCheckedKeys:a,getHalfCheckedNodes:s,setChecked:w,setCheckedKeys:O}=fn(e,c),{doFilter:L,hiddenNodeKeySet:p,isForceHiddenExpandIcon:F}=hn(e,c),N=M(()=>{var n;return((n=e.props)==null?void 0:n.value)||ge.KEY}),I=M(()=>{var n;return((n=e.props)==null?void 0:n.children)||ge.CHILDREN}),u=M(()=>{var n;return((n=e.props)==null?void 0:n.disabled)||ge.DISABLED}),d=M(()=>{var n;return((n=e.props)==null?void 0:n.label)||ge.LABEL}),b=M(()=>{const n=l.value,h=p.value,D=[],B=c.value&&c.value.treeNodes||[];function X(){const J=[];for(let j=B.length-1;j>=0;--j)J.push(B[j]);for(;J.length;){const j=J.pop();if(j&&(h.has(j.key)||D.push(j),n.has(j.key))){const U=j.children;if(U){const xe=U.length;for(let ce=xe-1;ce>=0;--ce)J.push(U[ce])}}}}return X(),D}),r=M(()=>b.value.length>0);function g(n){const h=new Map,D=new Map;let B=1;function X(j,U=1,xe=void 0){var ce;const Pe=[];for(const ye of j){const $e=K(ye),Q={level:U,key:$e,data:ye};Q.label=q(ye),Q.parent=xe;const me=_(ye);Q.disabled=A(ye),Q.isLeaf=!me||me.length===0,me&&me.length&&(Q.children=X(me,U+1,Q)),Pe.push(Q),h.set($e,Q),D.has(U)||D.set(U,[]),(ce=D.get(U))==null||ce.push(Q)}return U>B&&(B=U),Pe}const J=X(n);return{treeNodeMap:h,levelTreeNodeMap:D,maxLevel:B,treeNodes:J}}function x(n){const h=L(n);h&&(l.value=h)}function _(n){return n[I.value]}function K(n){return n?n[N.value]:""}function A(n){return n[u.value]}function q(n){return n[d.value]}function W(n){l.value.has(n.key)?te(n):H(n)}function Y(n){l.value=new Set(n)}function le(n,h){t(ft,n.data,n,h),ee(n),e.expandOnClickNode&&W(n),e.showCheckbox&&e.checkOnClickNode&&!n.disabled&&S(n,!v(n),!0)}function ee(n){R(n)||(i.value=n.key,t(yt,n.data,n))}function V(n,h){S(n,h)}function H(n){const h=l.value;if(c.value&&e.accordion){const{treeNodeMap:D}=c.value;h.forEach(B=>{const X=D.get(B);n&&n.level===(X==null?void 0:X.level)&&h.delete(B)})}h.add(n.key),t(ht,n.data,n)}function te(n){l.value.delete(n.key),t(vt,n.data,n)}function Z(n){return l.value.has(n.key)}function P(n){return!!n.disabled}function R(n){const h=i.value;return!!h&&h===n.key}function f(){var n,h;if(i.value)return(h=(n=c.value)==null?void 0:n.treeNodeMap.get(i.value))==null?void 0:h.data}function C(){return i.value}function E(n){i.value=n}function z(n){de(()=>c.value=g(n))}function T(n){var h;const D=Mt(n)?K(n):n;return(h=c.value)==null?void 0:h.treeNodeMap.get(D)}return{tree:c,flattenTree:b,isNotEmpty:r,getKey:K,getChildren:_,toggleExpand:W,toggleCheckbox:S,isExpanded:Z,isChecked:v,isIndeterminate:y,isDisabled:P,isCurrent:R,isForceHiddenExpandIcon:F,handleNodeClick:le,handleNodeCheck:V,getCurrentNode:f,getCurrentKey:C,setCurrentKey:E,getCheckedKeys:k,getCheckedNodes:m,getHalfCheckedKeys:a,getHalfCheckedNodes:s,setChecked:w,setCheckedKeys:O,filter:x,setData:z,getNode:T,expandNode:H,collapseNode:te,setExpandedKeys:Y}}var yn=re({name:"ElTreeNodeContent",props:cn,setup(e){const t=Xe(He),l=he("tree");return()=>{const i=e.node,{data:c}=i;return t!=null&&t.ctx.slots.default?t.ctx.slots.default({node:i,data:c}):ae("span",{class:l.be("node","label")},[i==null?void 0:i.label])}}});const mn=["aria-expanded","aria-disabled","aria-checked","data-key","onClick"],gn=re({name:"ElTreeNode"}),kn=re({...gn,props:rn,emits:un,setup(e,{emit:t}){const l=e,i=Xe(He),c=he("tree"),y=M(()=>{var s;return(s=i==null?void 0:i.props.indent)!=null?s:16}),v=M(()=>{var s;return(s=i==null?void 0:i.props.icon)!=null?s:Lt}),S=s=>{t("click",l.node,s)},k=()=>{t("toggle",l.node)},m=s=>{t("check",l.node,s)},a=s=>{var w,O,L,p;(L=(O=(w=i==null?void 0:i.instance)==null?void 0:w.vnode)==null?void 0:O.props)!=null&&L.onNodeContextmenu&&(s.stopPropagation(),s.preventDefault()),i==null||i.ctx.emit(kt,s,(p=l.node)==null?void 0:p.data,l.node)};return(s,w)=>{var O,L,p;return ne(),Le("div",{ref:"node$",class:fe([o(c).b("node"),o(c).is("expanded",s.expanded),o(c).is("current",s.current),o(c).is("focusable",!s.disabled),o(c).is("checked",!s.disabled&&s.checked)]),role:"treeitem",tabindex:"-1","aria-expanded":s.expanded,"aria-disabled":s.disabled,"aria-checked":s.checked,"data-key":(O=s.node)==null?void 0:O.key,onClick:Ce(S,["stop"]),onContextmenu:a},[Je("div",{class:fe(o(c).be("node","content")),style:et({paddingLeft:`${(s.node.level-1)*o(y)}px`})},[o(v)?(ne(),ke(o(_t),{key:0,class:fe([o(c).is("leaf",!!((L=s.node)!=null&&L.isLeaf)),o(c).is("hidden",s.hiddenExpandIcon),{expanded:!((p=s.node)!=null&&p.isLeaf)&&s.expanded},o(c).be("node","expand-icon")]),onClick:Ce(k,["stop"])},{default:Qe(()=>[(ne(),ke(Me(o(v))))]),_:1},8,["class","onClick"])):qe("v-if",!0),s.showCheckbox?(ne(),ke(o(zt),{key:1,"model-value":s.checked,indeterminate:s.indeterminate,disabled:s.disabled,onChange:m,onClick:w[0]||(w[0]=Ce(()=>{},["stop"]))},null,8,["model-value","indeterminate","disabled"])):qe("v-if",!0),Kt(o(yn),{node:s.node},null,8,["node"])],6)],42,mn)}}});var pn=tt(kn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree-v2/src/tree-node.vue"]]);const bn=26,Cn=re({name:"ElTreeV2"}),Sn=re({...Cn,props:sn,emits:dn,setup(e,{expose:t,emit:l}){const i=e,c=Ot();Ve(He,{ctx:{emit:l,slots:c},props:i,instance:we()}),Ve(It,void 0);const{t:y}=At(),v=he("tree"),{flattenTree:S,isNotEmpty:k,toggleExpand:m,isExpanded:a,isIndeterminate:s,isChecked:w,isDisabled:O,isCurrent:L,isForceHiddenExpandIcon:p,handleNodeClick:F,handleNodeCheck:N,toggleCheckbox:I,getCurrentNode:u,getCurrentKey:d,setCurrentKey:b,getCheckedKeys:r,getCheckedNodes:g,getHalfCheckedKeys:x,getHalfCheckedNodes:_,setChecked:K,setCheckedKeys:A,filter:q,setData:W,getNode:Y,expandNode:le,collapseNode:ee,setExpandedKeys:V}=vn(i,l);return t({toggleCheckbox:I,getCurrentNode:u,getCurrentKey:d,setCurrentKey:b,getCheckedKeys:r,getCheckedNodes:g,getHalfCheckedKeys:x,getHalfCheckedNodes:_,setChecked:K,setCheckedKeys:A,filter:q,setData:W,getNode:Y,expandNode:le,collapseNode:ee,setExpandedKeys:V}),(H,te)=>{var Z;return ne(),Le("div",{class:fe([o(v).b(),{[o(v).m("highlight-current")]:H.highlightCurrent}]),role:"tree"},[o(k)?(ne(),ke(o(an),{key:0,"class-name":o(v).b("virtual-list"),data:o(S),total:o(S).length,height:H.height,"item-size":bn,"perf-mode":H.perfMode},{default:Qe(({data:P,index:R,style:f})=>[(ne(),ke(pn,{key:P[R].key,style:et(f),node:P[R],expanded:o(a)(P[R]),"show-checkbox":H.showCheckbox,checked:o(w)(P[R]),indeterminate:o(s)(P[R]),disabled:o(O)(P[R]),current:o(L)(P[R]),"hidden-expand-icon":o(p)(P[R]),onClick:o(F),onToggle:o(m),onCheck:o(N)},null,8,["style","node","expanded","show-checkbox","checked","indeterminate","disabled","current","hidden-expand-icon","onClick","onToggle","onCheck"]))]),_:1},8,["class-name","data","total","height","perf-mode"])):(ne(),Le("div",{key:1,class:fe(o(v).e("empty-block"))},[Je("span",{class:fe(o(v).e("empty-text"))},Rt((Z=H.emptyText)!=null?Z:o(y)("el.tree.emptyText")),3)],2))],2)}}});var En=tt(Sn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree-v2/src/tree.vue"]]);const Kn=Dt(En);export{_e as A,ot as B,Ye as C,Mn as D,Wt as E,at as F,je as I,pe as R,qt as S,Vt as a,lt as b,ln as c,Ft as d,Ue as e,Ze as f,Te as g,st as h,ze as i,Ke as j,_n as k,nn as l,rt as m,an as n,Qt as o,en as p,Kn as q,nt as r,Gt as u,Ln as v};
